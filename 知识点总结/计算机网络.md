一、TCP的三次握手与四次挥手的详细介绍
    
    TCP三次握手：

        第一次握手：客户端发送位码SYN(建立联机)=1，随机产生seq number = J。
        客户端进入SYN_SENT状态，等待请求确认。
        服务端由SYN=1可以知道客户端要求建立连接；

        第二次握手：服务端接受请求之后需要确认，发送位码SYN=1、ACK(确认)=1，ack number = J+1，随机产生seq number = K。
        服务端进入SYN_RCVD状态；

        第三次握手：客户端接受数据包之后，确认ack number是否正确(是否为J+1)和ACK是否为1。
        若正确，客户端发送位码SYN=1，ACK=1，ack number = K+1。
        服务端接收后确认ack number和ACK，正确则成功建立连接。
        服务端和客户端进入ESTABLISHED状态。

    TCP四次挥手(TCP连接时为全双工，每个方向都必须要单独进行关闭)：

        第一次挥手：数据传输完成之后，客户端进程发出连接释放报文，并停止发送数据。
        客户端进入FIN_WAIT_1状态，释放报文位码FIN = 1，序列号seq number = u(是前面已经传送过来的数据的最后一个字节的序号+1)；

        第二次挥手：服务端接收到释放报文之后，发出确认报文，ACK = 1， ack number = u+1，并随机产生seq number = V。
        服务器进入CLOSE_WAIT状态；客户端接收到确认报文之后，进入FIN_WAIT_2状态，等待接收服务端发送的连接释放报文；

        第三次挥手：当服务端数据传输完成，服务端发送连接释放报文FIN=1，ack=u+1，产生随机序列号seq number = W。
        服务端进入LAST_ACK状态，等待客户端确认；

        第四次挥手：客户端接受到服务端的链接释放报文之后，给服务端发送确认报文，ACK=1，ack number = W+1。
        客户端进入TIME_WAIT状态，等待2MSL(MSL:报文最大生存时间)，然后关闭连接。
        服务端接收到确认报文之后立即进入CLOSE状态。

        问题：为什么第四次握手需要等待2MSL的时间？
        如果客户端在发送完确认报文之后不等待，直接释放连接，
        若此时服务端发生重传，那么本次连接的报文有可能会和下次连接的报文产生冲突，
        所以需要等待2MSL时间让本次连接的报文完全消失。
